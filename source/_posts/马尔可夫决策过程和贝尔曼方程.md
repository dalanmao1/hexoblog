---
title: é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹å’Œè´å°”æ›¼æ–¹ç¨‹
---
>## é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDP)ç®€ä»‹
ä¸‹ä¸€ä¸ªçŠ¶æ€$S_{t+1}$æ˜¯ä»æ¦‚ç‡åˆ†å¸ƒPä¸­å¾—åˆ°çš„ï¼Œè¯¥æ¦‚ç‡åˆ†å¸ƒPå–å†³äºæ•´ä¸ªå†å²ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è€ƒè™‘ä»$s_0$å¼€å§‹åˆ°tæ—¶åˆ»çš„çŠ¶æ€ã€‚é©¬å°”å¯å¤«æ˜¯å…·æœ‰**é©¬å°”å¯å¤«æ€§è´¨**çš„éšæœºè¿‡ç¨‹

- **å®šä¹‰**
$$
\Bbb{P}[S_{t+1}|S_t]=\Bbb{P}[S_{t+1}|S_1,...,S_t]
$$

**â€œThe future is independent of the past given the presentâ€**
ä¹Ÿå°±æ˜¯è¯´ï¼Œæœªæ¥åªä¸ç°åœ¨æœ‰å…³ï¼Œä¸è¿‡å»æ— å…³ï¼Œæ ¹æ®ç°åœ¨å¯ä»¥æ¨è¡æœªæ¥ï¼ˆè¿‡å»æ— å¯æŒ½å›ï¼Œæœªæ¥å¯ä»¥çŸ¥æ™“ï¼‰ã€‚å¦‚æ­¤é—®é¢˜å°±ç®€åŒ–äº†ï¼Œå¾—åˆ°$S_{t+1}$ï¼Œåªéœ€è¦çŸ¥é“$S_{t}$

- **æ€§è´¨**
  - çŠ¶æ€ä»å†å²ï¼ˆhistoryï¼‰ä¸­æ•è·äº†æ‰€æœ‰ç›¸å…³ä¿¡æ¯$S=f(H)$
  - å½“çŠ¶æ€å·²çŸ¥çš„æ—¶å€™ï¼Œå¯ä»¥æŠ›å¼€å†å²ä¸ç®¡
  - ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰çŠ¶æ€æ˜¯æœªæ¥çš„å……åˆ†ç»Ÿè®¡é‡
  
**ä¸¾ä¾‹**ï¼šé©¬å°”å¯å¤«æ€§è´¨æ„å‘³ç€tæ—¶åˆ»çš„çŠ¶æ€ï¼ˆå’ŒåŠ¨ä½œï¼‰åŒ…å«äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥å®Œå…¨ç¡®å®št+1æ—¶åˆ»çš„ä¸‹ä¸€ä¸ªçŠ¶æ€è½¬ç§»æ¦‚ç‡ã€‚æ–æ³¢é‚£å¥‘åºåˆ—ï¼Œå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹å¼è®©å¼å­$s_{t+1}=s_{t-1}+s_{t}$æˆç«‹ã€‚
- **MDPäº”å…ƒç»„**
  - $S$æ˜¯çŠ¶æ€çš„é›†åˆ
  - $A$æ˜¯åŠ¨ä½œçš„é›†åˆ
  - $P_{sa}$æ˜¯çŠ¶æ€è½¬ç§»å‡½æ•°
  - $\gamma \in [0,1]$æ˜¯å¯¹æœªæ¥å¥–åŠ±çš„æŠ˜æ‰£å› å­
  - $R$æ˜¯å¥–åŠ±ï¼Œæœ‰æ—¶å€™ä»…ä»…ä¸çŠ¶æ€æœ‰å…³ç³»

> ## åŠ¨æ€è¿‡ç¨‹
![](https://img-blog.csdnimg.cn/d40101b74cf74edea5431234683dfc7b.png#pic_center)
å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒMDPçš„åŠ¨æ€è¿‡ç¨‹å¦‚ä¸‹ï¼š
  - ä»çŠ¶æ€$s_0$å¼€å§‹
  - æ™ºèƒ½ä½“ï¼ˆAgentï¼‰é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œ$a_0\in A$
  - æ™ºèƒ½ä½“è·å¾—å¥–åŠ±$R(s_0,a_0)$
  - MDPéšæœºè½¬ç§»åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€$s_1$~ $P_{s_0a_0}$

ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­å¾ªç¯æ‰§è¡Œï¼Œç›´è‡³ç»ˆæ­¢çŠ¶æ€$S_t$å‡ºç°
> ## è´å°”æ›¼æ–¹ç¨‹
### è´å°”æ›¼æ–¹ç¨‹
è´å°”æ›¼æ–¹ç¨‹æ˜¯å¯¹ä»·å€¼å‡½æ•°çš„ä¸€ä¸ªç®€åŒ–ï¼Œå¯å°†ä»·å€¼å‡½æ•°åˆ†è§£ä¸ºåŠæ—¶å¥–åŠ±å’Œè¡°å‡åçš„æœªæ¥å¥–åŠ±ä¹‹å’Œ
$$
V(s)=\Bbb{E}_\pi[G_{t}|S_t=s]{\kern 135pt}\\
=\Bbb{E}_\pi[R_{t+1}+\gamma R_{t+2}+\gamma ^2R_{t+3}+...|S_t=s]{\kern 4pt}\\
=\Bbb{E}_\pi[R_{t+1}+\gamma (R_{t+2}+\gamma R_{t+3}+...)|S_t=s]{\kern 0pt}\\
=\Bbb{E}_\pi[R_{t+1}+\gamma V(s)|S_t=s]{\kern 65pt}
$$
åŒç†ï¼ŒåŠ¨ä½œä»·å€¼å‡½æ•°å¯ä»¥è¡¨ç¤ºä¸ºï¼š
$$
Q(s)=\Bbb{E}[R_{t+1}+\gamma V(s)|S_t=s,A_t=a]{\kern 64pt}\\
=\Bbb{E}[R_{t+1}+\gamma \Bbb{E}_{a\sim\pi}Q(S_{t+1,a})|S_t=s,A_t=a]{\kern 0pt}
$$


### è´å°”æ›¼æœŸæœ›æ–¹ç¨‹
$P_{sa}$æ˜¯çŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼Œæœ‰å…¶å®ƒçš„å†™æ³•$P_{s\pi(s)}$ã€$P_{ss'}^a$,è¡¨ç¤ºåœ¨å½“å‰çš„çŠ¶æ€sï¼Œç»è¿‡åŠ¨ä½œaåï¼Œè½¬ç§»åˆ°å…¶å®ƒçŠ¶æ€çš„æ¦‚ç‡åˆ†å¸ƒã€‚

$$
V_\pi(s)=\Bbb{E}_\pi[R_{t+1}+\gamma V_\pi(s)|S_t=s]{\kern 18pt}\\
=R(s)+\gamma \sum_{s'\in S}P_{ss'}^aV_\pi(s'){\kern 0pt}
$$
åŒç†
$$
Q_\pi(s)=R(s,a)+\gamma \sum_{s'\in S}P_{ss'}^a\sum_{a'\in A}\pi(a'|s')Q_\pi(s',a'){\kern 0pt}
$$

### è´å°”æ›¼æœ€ä¼˜æ–¹ç¨‹
 å¯¹çŠ¶æ€ğ‘ æ¥è¯´çš„æœ€ä¼˜ä»·å€¼å‡½æ•°æ˜¯æ‰€æœ‰ç­–ç•¥å¯è·å¾—çš„æœ€å¤§å¯èƒ½æŠ˜æ‰£å¥–åŠ±çš„å’Œ
$$V_*(s)=\underset {\pi}{max}V_{\pi}(s){\kern 0pt}\\
V_*(s)=R(s)+\underset {a\in A}{max}\gamma \sum_{s'\in S}P_{ss'}^aV_*(s'){\kern 0pt}$$
åŒç†
$$Q_*(s,a)=\underset {\pi}{max}Q_{\pi}(s,a)\\
Q_*(s,a)=R(s,a)+\gamma \sum_{s'\in S}P_{ss'}^a\underset {a'\in A}{max}Q_*(s',a'){\kern 0pt}
$$
